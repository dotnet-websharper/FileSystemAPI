import { Start as fK } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fL, SetOptional as fM, GetOptional as fN, CreateFuncWithArgs as fO, DeleteEmptyFields as fP, Lazy as fQ, Create as fR, OnLoad as fS } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fT){ return"Dispose"in fT;}
function b(){ const fT=new m("New_1");const fU=(fT.h.push(n(fT.k, "opendirectory", () => fT.i, () => { const fZ=null;L(I(() => J(p(c()), () => K(null))), null);})),fT);const fV=o(fU.k, fU.h, []);const fW=new h(fV[1], D(fV[0]));let fX=(fU.i=fW,fW);const fY=fX.Doc;Y("");bf.RunById("main", fY);}
function c(){ const fT=null;return new Promise((fU) => { fU(new Promise((fV) => { fV(globalThis.showDirectoryPicker().then((fW) => { const fX=globalThis.document.getElementById("fileList");fX.innerHTML="";const fY=fW.values();function fZ(){ const f0=null;return new Promise((f1) => { f1(r(p(fY.next())).then((f2) => { if(!(f2==null)){ if(!f2.done){ const f3=f2.value;const f4=f3.name;const f5=f3.kind=="directory"?" \ud83d\udcc1":" \ud83d\udcc4";const f6=globalThis.document.createElement("li");f6.textContent=String(f4)+String(f5);fX.appendChild(f6);return fZ();} else return Promise.resolve(null);} else return Promise.resolve(null);}));});} return fZ().then(() => Promise.resolve(null));}));})["catch"]((fV) => { console.error("Error accessing directory: "+String(q(fV).message));return Promise.resolve(null);}));});}
function d(fT){ throw new Error(fT);}
function e(fT){ return[fT.K, fT.V];}
function f(fT, fU){ const fV=1+fU-fT;return fV<=0?[]:bx(fV, (fW) => fW+fT);}
class g { Equals(fT){ return this===fT;} GetHashCode(){ return -1;} }
class h extends g { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fT){ this.anchorRoot=fT;} constructor(fT, fU){ super();this.doc=fU;this.allVars=fT.$==0?fT.$0:d("Should not happen");this.anchorRoot=null;} }
function i(fT, fU){ k(fT, fU);return fT[fU];}
function j(fT, fU, fV){ k(fT, fU);fT[fU]=fV;}
function k(fT, fU){ if(fU<0||fU>=fT.length)d("Index was outside the bounds of the array.");}
function l(fT){ return fT.dims===2?fT.length*fT.length:fT.length;}
class m extends g { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fT){ if(fT=="New_1"){ let fU;super();this.i=null;this.k=(fU=E(),String(fU));this.h=fL([]);fM(this, "s", null);} } }
function n(fT, fU, fV, fW){ return new G(fU, (fX) =>(fY) => { const fZ=fV();fZ.SetAnchorRoot(fX);return fW({Vars:fZ, Anchors:fZ, Target:fX, Event:fY});});}
function o(fT, fU, fV){ const fW=new bg("New_5");const fX=new bn("New_3");const fY=b9(fU);try { while(fY.MoveNext()){ const fZ=fY.Current;const f0=fZ.Name;fX.SAdd(f0);fW.set_Item(f0, fZ);} } finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} return[bo(fU, bD((f1) => { const f2=f1[0];const f3=f1[1];const f4=f1[2];if(fX.Contains(f2))return null;else { const f5=f3===0?bS.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:X(f4.$0);let f7=bU.Create_1(f6==null?"":f6.$0);return new bT(f2, f7);}):f3===1?bS.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:X(f4.$0);let f7=bU.Create_1(f6==null?0:f6.$0);return new bV(f2, f7);}):f3===2?bS.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:X(f4.$0);let f7=bU.Create_1(f6==null?false:f6.$0);return new bW(f2, f7);}):f3===3?bS.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:X(f4.$0);let f7=bU.Create_1(f6==null?-8640000000000000:f6.$0);return new bX(f2, f7);}):f3===4?bS.GetOrAddHoleFor(fT, f2, () => new bY(f2, bU.Create_1([]))):f3===5?bS.GetOrAddHoleFor(fT, f2, () => new bZ(f2, bU.Create_1(X(globalThis.document.querySelector("[ws-dom="+f2+"]"))))):f3===6?bS.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:X(f4.$0);let f7=bU.Create_1(f6==null?[]:f6.$0);return new b0(f2, f7);}):d("Invalid value type");fW.set_Item(f2, f5);return X(f5);} }, fV)), {$:0, $0:fW}];}
function p(fT){ return N((fU, fV) => { fT.then(fU, (fW) => fV(q(fW)));});}
function q(fT){ return fT instanceof Error?fT:new bl(fT);}
function r(fT){ return new Promise((fU, fV) => { S(fT, fU, (fW) => { fV(fW);}, (fW) => { fV(fW);}, null);});}
function s(fT, fU){ if(fT===fU)return true;else { const fV=typeof fT;if(fV=="object"){ if(fT===null||fT===void 0||fU===null||fU===void 0||!s(typeof fU, "object"))return false;else if("Equals"in fT)return fT.Equals(fU);else if("Equals"in fU)return false;else if(fT instanceof Array&&fU instanceof Array)return t(fT, fU);else if(fT instanceof Date&&fU instanceof Date)return u(fT, fU);else { const fW=[true];let fX;for(var fZ in fT)if(((f0) => { fW[0]=!fT.hasOwnProperty(f0)||fU.hasOwnProperty(f0)&&s(fT[f0], fU[f0]);return!fW[0];})(fZ))break;if(fW[0]){ let fY;for(var f0 in fU)if(((f1) => { fW[0]=!fU.hasOwnProperty(f1)||fT.hasOwnProperty(f1);return!fW[0];})(f0))break;} return fW[0];} } else return fV=="function"&&("$Func"in fT?fT.$Func===fU.$Func&&fT.$Target===fU.$Target:"$Invokes"in fT&&"$Invokes"in fU&&t(fT.$Invokes, fU.$Invokes));} }
function t(fT, fU){ let fV;let fW;if(l(fT)===l(fU)){ fV=true;fW=0;while(fV&&fW<l(fT)){!s(i(fT, fW), i(fU, fW))?fV=false:void 0;fW=fW+1;} return fV;} else return false;}
function u(fT, fU){ return fT.getTime()===fU.getTime();}
function v(fT){ const fU=typeof fT;return fU=="function"?0:fU=="boolean"?fT?1:0:fU=="number"?fT:fU=="string"?w(fT):fU=="object"?fT==null?0:fT instanceof Array?x(fT):y(fT):0;}
function w(fT){ let fU;if(fT===null)return 0;else { fU=5381;for(let fV=0, fW=fT.length-1;fV<=fW;fV++)fU=z(fU, fT[fV].charCodeAt());return fU;} }
function x(fT){ let fU=-34948909;for(let fV=0, fW=l(fT)-1;fV<=fW;fV++)fU=z(fU, v(i(fT, fV)));return fU;}
function y(fT){ if("GetHashCode"in fT)return fT.GetHashCode();else { const fU=[0];let fV;for(var fW in fT)if(((fX) => { fU[0]=z(z(fU[0], w(fX)), v(fT[fX]));return false;})(fW))break;return fU[0];} }
function z(fT, fU){ return(fT<<5)+fT+fU;}
function A(fT, fU){ if(fT===fU)return 0;else { const fV=typeof fT;switch(fV=="function"?1:fV=="boolean"?2:fV=="number"?2:fV=="string"?2:fV=="object"?3:0){ case 0:return typeof fU=="undefined"?0:-1;case 1:return d("Cannot compare function values.");case 2:return fT<fU?-1:1;case 3:if(fT===null)return -1;else if(fU===null)return 1;else if("CompareTo"in fT)return fT.CompareTo(fU);else if("CompareTo0"in fT)return fT.CompareTo0(fU);else if(fT instanceof Array&&fU instanceof Array)return B(fT, fU);else if(fT instanceof Date&&fU instanceof Date)return C(fT, fU);else { const fW=[0];let fX;for(var fZ in fT)if(((f0) =>!fT.hasOwnProperty(f0)?false:!fU.hasOwnProperty(f0)?(fW[0]=1,true):(fW[0]=A(fT[f0], fU[f0]),fW[0]!==0))(fZ))break;if(fW[0]===0){ let fY;for(var f0 in fU)if(((f1) =>!fU.hasOwnProperty(f1)?false:!fT.hasOwnProperty(f1)&&(fW[0]=-1,true))(f0))break;} return fW[0];} break;} } }
function B(fT, fU){ let fV;let fW;if(l(fT)<l(fU))return -1;else if(l(fT)>l(fU))return 1;else { fV=0;fW=0;while(fV===0&&fW<l(fT)){ fV=A(i(fT, fW), i(fU, fW));fW=fW+1;} return fV;} }
function C(fT, fU){ return A(fT.getTime(), fU.getTime());}
function D(fT){ Y("index");return fT?Z("index", X("main"), fT):void 0;}
function E(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fT) => { const fU=Math.random()*16|0;const fV=fT=="x"?fU:fU&3|8;return fV.toString(16);});}
class F extends g { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fT, fU){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ei("");} }
class G extends F { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
function H(fT){ const fU={};const fV=b9(fT);try { while(fV.MoveNext()){ const fW=fV.Current;fU[fW[0]]=fW[1];} } finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} return fU;}
function I(fT){ return(fU) => { try {(fT())(fU);} catch(fV){ fU.k(bi(fV));} };}
function J(fT, fU){ return M((fV) => { fT(bh((fW) => { if(fW.$==0){ const fX=fW.$0;R().Fork(() => { try {(fU(fX))(fV);} catch(fY){ fV.k(bi(fY));} });} else R().Fork(() => { fV.k(fW);});}, fV.ct));});}
function K(fT){ return(fU) => { fU.k(bj(fT));};}
function L(fT, fU){ const fV=(O())[0];const fW=fU==null?fV:fU.$0;if(!fW.c)fT(bh((fX) => { if(fX.$==1)P(fX.$0);}, fW));}
function M(fT){ return(fU) => { if(fU.ct.c)Q(fU);else fT(fU);};}
function N(fT){ return(fU) => { const fV=[false];const fW=(fX) => { if(fV[0])d("A continuation provided by Async.FromContinuations was invoked multiple times");else { fV[0]=true;R().Fork(fX);} };fT((fX) => { fW(() => { fU.k(bj(fX));});}, (fX) => { fW(() => { fU.k(bi(fX));});}, (fX) => { fW(() => { fU.k(bk(fX));});});};}
function O(){ return b7.defCTS;}
function P(fT){ console.log("WebSharper: Uncaught asynchronous exception", fT);}
function Q(fT){ fT.k(bk(new cX("New", fT.ct)));}
function R(){ return b7.scheduler;}
function S(fT, fU, fV, fW, fX){ const fY=(O())[0];const fZ=fX==null?fY:fX.$0;if(!fZ.c)fT(bh((f0) => { if(f0.$==1)fV(f0.$0);else if(f0.$==2)fW(f0.$0);else fU(f0.$0);}, fZ));}
function T(){ return b7.Zero;}
function U(fT, fU){ const fV=(O())[0];const fW=fU==null?fV:fU.$0;R().Fork(() => { if(!fW.c)fT(bh((fX) => { if(fX.$==1)P(fX.$0);}, fW));});}
function V(fT){ let fU=[];let fV;for(var fW in fT)fU.push(fT[fW]);return fU;}
class W extends g { }
function X(fT){ return{$:1, $0:fT};}
function Y(fT){!u0030()?(u0031(true),u0032(globalThis.document.body, "")):void 0;u0033().set_Item(fT, u0034(""));}
function Z(fT, fU, fV){ let fW;const fX=(fW=null,[u0034(fT).TryGetValue(fU==null?"":fU.$0, {get:() => fW, set:(fY) => { fW=fY;}}), fW]);return fX[0]?u0035(fX[1].cloneNode(true), fV):(console.warn("Local template doesn't exist", fU),bf.Empty);}
function u0030(){ return cB.LocalTemplatesLoaded;}
function u0031(fT){ cB.LocalTemplatesLoaded=fT;}
function u0032(fT, fU){ const fV=u0034(fU);const fW=new bg("New_5");const fX=fT.querySelectorAll("[ws-template]");for(let f9=0, f_=fX.length-1;f9<=f_;f9++){ const fY=fX[f9];const fZ=fY.getAttribute("ws-template").toLowerCase();fY.removeAttribute("ws-template");fW.set_Item(fZ, u0036(fY));} const f0=fT.querySelectorAll("[ws-children-template]");for(let f$=0, ga=f0.length-1;f$<=ga;f$++){ const f1=f0[f$];const f2=f1.getAttribute("ws-children-template").toLowerCase();f1.removeAttribute("ws-children-template");fW.set_Item(f2, u0037(f1));} const f3=fT.querySelectorAll("template[id]");for(let gb=0, gc=f3.length-1;gb<=gc;gb++){ const f4=f3[gb];fW.set_Item(f4.getAttribute("id").toLowerCase(), u0038(f4));} const f5=fT.querySelectorAll("template[name]");for(let gd=0, ge=f5.length-1;gd<=ge;gd++){ const f6=f5[gd];fW.set_Item(f6.getAttribute("name").toLowerCase(), u0038(f6));} const f7=new bn("New_3");function f8(gf){ if(!fV.ContainsKey(gf)){ let gg;const gh=(gg=null,[fW.TryGetValue(gf, {get:() => gg, set:(gi) => { gg=gi;}}), gg]);if(gh[0]){ f7.SAdd(gf);fW.RemoveKey(gf);u0039(fU, X(gf), gh[1], X(f8));} else console.warn(f7.Contains(gf)?"Encountered loop when instantiating "+gf:"Local template does not exist: "+gf);} } while(fW.count>0)f8(bp(fW.Keys));}
function u0033(){ return cB.LoadedTemplates;}
function u0034(fT){ let fU;const fV=(fU=null,[u0033().TryGetValue(fT, {get:() => fU, set:(fX) => { fU=fX;}}), fU]);if(fV[0])return fV[1];else { const fW=new bg("New_5");u0033().set_Item(fT, fW);return fW;} }
function u0035(fT, fU){ let fV;const fW=$(fT, bo(fU, ba().Values));const fX=fW[1];const fY=fW[0];const fZ=fY.Els;return!s(fZ, null)&&fZ.length===1&&(i(fZ, 0)instanceof Node&&(s(i(fZ, 0).nodeType, Node.ELEMENT_NODE)&&(fV=i(fZ, 0),true)))?c5.TreeNode(fY, fX):bf.Mk(b1(fY), fX);}
function u0036(fT){ fT.removeAttribute("ws-template");const fU=fT.getAttribute("ws-replace");if(fU==null){ } else { fT.removeAttribute("ws-replace");const fV=fT.parentNode;if(s(fV, null)){ } else { const fW=globalThis.document.createElement(fT.tagName);fW.setAttribute("ws-replace", fU);fV.replaceChild(fW, fT);} } const fX=globalThis.document.createElement("div");fX.appendChild(fT);return fX;}
function u0037(fT){ const fU=globalThis.document.createElement("div");while(fT.hasChildNodes())fU.appendChild(fT.firstChild);return fU;}
function u0038(fT){ const fU=globalThis.document.createElement("div");const fV=fT.content;for(let fW=0, fX=fV.childNodes.length-1;fW<=fX;fW++)fU.appendChild(fV.childNodes[fW].cloneNode(true));return fU;}
function u0039(fT, fU, fV, fW){ const fX=new bn("New_3");function fY(f5, f6){ while(true)switch(f5){ case 0:if(f6!==null){ const f7=f6.nextSibling;if(s(f6.nodeType, Node.TEXT_NODE))dc(f6);else if(s(f6.nodeType, Node.ELEMENT_NODE))f0(f6);f6=f7;} else return null;break;case 1:const f8=dk(f6.nodeName, X(3), null).toLowerCase();const f9=f8.indexOf(".");const f_=f9===-1?[fT, f8]:[dk(f8, null, X(f9-1)), dk(f8, X(f9+1), null)];const f$=f_[1];const ga=f_[0];if(ga!=""&&!u0033().ContainsKey(ga))return dd(f$);else { if(ga==""&&fW!=null)fW.$0(f$);const gb=u0033().Item(ga);if(!gb.ContainsKey(f$))return dd(f$);else { const gc=gb.Item(f$);const gd=gc.cloneNode(true);const ge=new bn("New_3");const gf=new bg("New_5");const gg=f6.attributes;for(let gq=0, gr=gg.length-1;gq<=gr;gq++){ const gh=gg.item(gq).name.toLowerCase();const gi=gg.item(gq).nodeValue;let gj=gi==""?gh:gi.toLowerCase();gf.set_Item(gh, gj);if(!ge.SAdd(gh))console.warn("Hole mapped twice", gh);} for(let gs=0, gt=f6.childNodes.length-1;gs<=gt;gs++){ const gk=f6.childNodes[gs];if(s(gk.nodeType, Node.ELEMENT_NODE))if(!ge.SAdd(gk.nodeName.toLowerCase()))console.warn("Hole filled twice", f$);} const gl=f6.childNodes.length===1&&s(f6.firstChild.nodeType, Node.TEXT_NODE);if(gl){ const gm=de(gd, f6.firstChild.textContent, f$);const gn=((gu) =>(gv) => gu.SAdd(gv))(ge);let go=((gu) =>(gv) => { if(gv!=null)gu(gv.$0);})((gu) => { gn(gu);});go(gm);} df(gd, ge);if(!gl){ for(let gu=0, gv=f6.childNodes.length-1;gu<=gv;gu++){ const gp=f6.childNodes[gu];if(s(gp.nodeType, Node.ELEMENT_NODE))if(gp.hasAttributes())dg(gd, gp);else fZ(gd, gp);} } dh(gd, gf);di(gd, f6.parentNode, f6);f6.parentNode.removeChild(f6);return;} } break;} } function fZ(f5, f6){ const f7=f6.nodeName.toLowerCase();const f8=(ga, gb) => { if(f7=="title"&&f6.hasChildNodes()){ const gc=dl(f6.textContent);f6.removeChild(f6.firstChild);while(gc.hasChildNodes())f6.appendChild(gc.firstChild);} f0(f6);return di(f6, ga, gb);};bb(f5, "[ws-attr-holes]", (ga) => { const gb=em(ga.getAttribute("ws-attr-holes"), [" "], 1);for(let gf=0, gg=gb.length-1;gf<=gg;gf++){ const gc=i(gb, gf);let gd=new RegExp("\\${"+f7+"}", "ig");let ge=ga.getAttribute(gc).replace(gd, f6.textContent);ga.setAttribute(gc, ge);} });const f9=f5.querySelector("[ws-hole="+f7+"]");if(s(f9, null)){ const f_=f5.querySelector("[ws-replace="+f7+"]");if(s(f_, null)){ const f$=f5.querySelector("slot[name="+f7+"]");return f5.tagName.toLowerCase()=="template"?(f8(f$.parentNode, f$),void f$.parentNode.removeChild(f$)):null;} else { f8(f_.parentNode, f_);f_.parentNode.removeChild(f_);return;} } else { while(f9.hasChildNodes())f9.removeChild(f9.lastChild);f9.removeAttribute("ws-hole");return f8(f9, null);} } function f0(f5){ if(!f5.hasAttribute("ws-preserve"))if(en(f5.nodeName.toLowerCase(), "ws-"))f2(f5);else { dj(f5);f1(f5.firstChild);} } function f1(f5){ return fY(0, f5);} function f2(f5){ return fY(1, f5);} function f3(f5){ while(true){ const f6=f5.querySelector("[ws-template]");if(s(f6, null)){ const f7=f5.querySelector("[ws-children-template]");if(s(f7, null)){ const f8=f5.querySelectorAll("template[id]");for(let gc=1, gd=f8.length-1;gc<=gd;gc++){ const f9=f8[gc];if(fX.Contains(f9)){ } else { u0039(fT, X(f9.getAttribute("id")), f9, null);fX.SAdd(f9);} } const f_=f5.querySelectorAll("template[name]");for(let ge=1, gf=f_.length-1;ge<=gf;ge++){ const f$=f_[ge];if(fX.Contains(f$)){ } else { u0039(fT, X(f$.getAttribute("name")), f$, null);fX.SAdd(f$);} } return null;} else { const ga=f7.getAttribute("ws-children-template");f7.removeAttribute("ws-children-template");u0039(fT, X(ga), f7, null);f5=f5;} } else { const gb=f6.getAttribute("ws-template");(bc(fT, X(gb), f6))(null);f5=f5;} } } const f4=(fU==null?"":fU.$0).toLowerCase();u0034(fT).set_Item(f4, fV);if(fV.hasChildNodes()){ f3(fV);f1(fV.firstChild);} }
function $(fT, fU){ let fV;const fW=[];const fX=[];const fY=[];const fZ=[];const f0=new bg("New_5");const f1=b9(fU);try { while(f1.MoveNext()){ const f2=f1.Current;f0.set_Item(f2.Name, f2);} } finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} let f3=dm(fT);const f4=(gb, gc) => { const gd=dL(gb, gc);fX.push(dM(gd));fY.push([gb, gd]);const ge=fN(gd.OnAfterRender);if(ge==null)return null;else { const gf=ge.$0;fZ.push(() => { gf(gb);});return;} };const f5=(gb) => { let gc;const gd=(gc=null,[f0.TryGetValue(gb, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(gd[0]){ const ge=gd[1];if(ge instanceof d2)return X(ge.Value);else if(ge instanceof d3)return X(bf.TextNode(ge.Value));else { const gf=ge.ForTextView();return gf==null?null:X(bf.TextView(gf.$0));} } else return null;};bb(fT, "[ws-hole]", (gb) => { const gc=gb.getAttribute("ws-hole");gb.removeAttribute("ws-hole");while(gb.hasChildNodes())gb.removeChild(gb.lastChild);const gd=f5(gc);if(gd!=null&&gd.$==1){ const ge=gd.$0;cC(gb, ge.docNode);fW.push(cW.New(dN(gb), ge.docNode, null, gb, cZ(), null));fX.push(ge.updates);} });bb(fT, "[ws-replace]", (gb) => { const gc=f5(gb.getAttribute("ws-replace"));if(gc!=null&&gc.$==1){ const gd=gc.$0;const ge=gb.parentNode;const gf=globalThis.document.createTextNode("");ge.replaceChild(gf, gb);const gg=cH(gf, gd.docNode);f3=dm(fT);const gh=bE((gi) => gb===gi, f3);if(gh==null){ } else j(f3, gh.$0, gd.docNode);fW.push(cW.New(dN(ge), gd.docNode, X([gg, gf]), ge, cZ(), null));fX.push(gd.updates);} });let f6=false;bb(fT, "slot", (gb) => { const gc=gb.getAttribute("name");const gd=gc==""||gc==null?"default":gc.toLowerCase();if(f6&&gd=="default"||!s(fT.parentElement, null)){ } else { while(gb.hasChildNodes())gb.removeChild(gb.lastChild);if(gd=="default")f6=true;const ge=f5(gd);if(ge!=null&&ge.$==1){ const gf=ge.$0;cC(gb, gf.docNode);fW.push(cW.New(dN(gb), gf.docNode, null, gb, cZ(), null));fX.push(gf.updates);} } });bb(fT, "[ws-attr]", (gb) => { let gc;const gd=gb.getAttribute("ws-attr");gb.removeAttribute("ws-attr");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];if(gf instanceof d4)f4(gb, gf.Value);else console.warn("Attribute hole filled with non-attribute data", gd);} });bb(fT, "[ws-on]", (gb) => { f4(gb, ef.Concat(bD((gc) => { let gd;const ge=em(gc, [":"], 1);const gf=(gd=null,[f0.TryGetValue(i(ge, 1), {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];return gg instanceof d5?X(d6(i(ge, 0), gg.Value)):gg instanceof G?X(ef.Handler(i(ge, 0), gg.Value)):(console.warn("Event hole on"+i(ge, 0)+" filled with non-event data", i(ge, 1)),null);} else return null;}, em(gb.getAttribute("ws-on"), [" "], 1))));gb.removeAttribute("ws-on");});bb(fT, "[ws-onafterrender]", (gb) => { let gc;const gd=gb.getAttribute("ws-onafterrender");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];if(gf instanceof eg){ gb.removeAttribute("ws-onafterrender");f4(gb, d7(gf.Value));} else if(gf instanceof eh){ gb.removeAttribute("ws-onafterrender");f4(gb, d7(gf.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gd);} });bb(fT, "[ws-var]", (gb) => { let gc;const gd=gb.getAttribute("ws-var");gb.removeAttribute("ws-var");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gf) => { gc=gf;}}), gc]);if(ge[0])ge[1].AddAttribute((gf) =>(gg) => f4(gf, gg), gb);});const f7=() => { bd("[ws-dom]", (gb) => { let gc;let gd;let ge;const gf=(gc=null,[f0.TryGetValue(gb.getAttribute("ws-dom").toLowerCase(), {get:() => gc, set:(gj) => { gc=gj;}}), gc]);if(gf[0]){ const gg=gf[1];if(gg instanceof bZ){ const gh=gg.Value;gb.removeAttribute("ws-dom");gd=gb;const gi=new MutationObserver((gj, gk) => { bI((gl) => { gl.removedNodes.forEach(fO((gm) => gm[0]===gd&&gl.addedNodes.length!==1?(gh.SetFinal(null),gk.disconnect()):null), null);}, gj);});if(gb.parentElement!==null)gi.observe(gb.parentElement, (ge={},ge.childList=true,ge));gh.Set(X(gb));c7((gj) => { if(gj!=null&&gj.$==1){ const gk=gj.$0;if(gd===gk){ } else { gd.replaceWith(gk);gd=gk;} } else { gd.remove();gi.disconnect();} }, gh.View);} } });};bb(fT, "[ws-attr-holes]", (gb) => { const gc=new RegExp(be(), "g");const gd=em(gb.getAttribute("ws-attr-holes"), [" "], 1);gb.removeAttribute("ws-attr-holes");for(let ge=0, gf=gd.length-1;ge<=gf;ge++)((() => { let gg;const gh=i(gd, ge);const gi=gb.getAttribute(gh);let gj=null;let gk=0;const gl=[];while(gj=gc.exec(gi),gj!==null){ const gm=dk(gi, X(gk), X(gc.lastIndex-i(gj, 0).length-1));gk=gc.lastIndex;gl.push([gm, i(gj, 1)]);} const gn=dk(gi, X(gk), null);gc.lastIndex=0;const go=bJ((gt, gu) =>(((gv) => { const gw=gv[0];const gx=gv[1];return(gy) => { let gz;const gA=gy[0];const gB=gy[1];const gC=(gz=null,[f0.TryGetValue(gx, {get:() => gz, set:(gE) => { gz=gE;}}), gz]);const gD=gC[0]?gC[1].AsChoiceView:ei("");return gD.$==1?[gw, ek.Cons(gA==""?gD.$0:c8((gE) => gE+gA, gD.$0), gB)]:[gw+gD.$0+gA, gB];};})(gt))(gu), gl, [gn, ek.Empty]);if(go[1].$==1){ if(go[1].$1.$==1){ if(go[1].$1.$1.$==1){ if(go[1].$1.$1.$1.$==0){ const gp=go[0];gg=d8(gh, c9((gt, gu, gv) => gp+gt+gu+gv, go[1].$0, go[1].$1.$0, go[1].$1.$1.$0));} else { const gq=go[0];gg=d8(gh, c8((gt) => gq+el("", gt), c_(go[1])));} } else { const gr=go[0];gg=d8(gh, c$((gt, gu) => gr+gt+gu, go[1].$0, go[1].$1.$0));} } else if(go[0]=="")gg=d8(gh, go[1].$0);else { const gs=go[0];gg=d8(gh, c8((gt) => gs+gt, go[1].$0));} } else gg=ef.Create(gh, go[0]);return f4(gb, gg);})());});let f8=f3;const f9=fZ.length==0?X(() => { f7();}):X((gb) => { f7();bI((gc) => { gc(gb);}, fZ);});const f_=!s(f3, null)&&f3.length===1&&(i(f3, 0)instanceof Node&&(i(f3, 0)instanceof Element&&(fV=i(f3, 0),true)))?X(fV):null;let f$={Els:f8, Dirty:true, Holes:fW, Attrs:fY, Render:f9?f9.$0:void 0, El:f_?f_.$0:void 0};let ga=fP(f$, ["Render", "El"]);return[ga, et(c6(), da, fX)];}
function ba(){ return cB.GlobalHoles;}
function bb(fT, fU, fV){ ds(fT, fU, (fW) => { if(fW.closest("[ws-preserve]")==null)fV(fW);});}
function bc(fT, fU, fV){ const fW=u0036(fV);return(fX) => { u0039(fT, fU, fW, fX);};}
function bd(fT, fU){ dt(fT, (fV) => { if(fV.closest("[ws-preserve]")==null)fU(fV);});}
function be(){ return cB.TextHoleRE;}
class bf extends g { docNode;updates;static RunById(fT, fU){ const fV=globalThis.document.getElementById(fT);if(s(fV, null))d("invalid id: "+fT);else bf.Run(fV, fU);} static Run(fT, fU){ cC(fT, fU.docNode);bf.RunInPlace(false, fT, fU);} static get Empty(){ return bf.Mk(null, c6());} static RunInPlace(fT, fU, fV){ const fW=cE(fU, fV.docNode);c7(dA()||dH()?dI(cF(fT, fW, fV.docNode)):() => { cG(fT, fW, fV.docNode);}, fV.updates);} static Mk(fT, fU){ return new bf(fT, fU);} static TextNode(fT){ return bf.Mk(b2(globalThis.document.createTextNode(fT)), c6());} static TextView(fT){ const fU=cP();return bf.Mk(b3(fU), c8((fV) => { cQ(fU, fV);}, fT));} constructor(fT, fU){ super();this.docNode=fT;this.updates=fU;} }
class bg extends g { equals;hash;count;data;set_Item(fT, fU){ this.set(fT, fU);} set(fT, fU){ const fV=this.hash(fT);const fW=this.data[fV];if(fW==null){ this.count=this.count+1;this.data[fV]=new Array({K:fT, V:fU});} else { const fX=bE((fY) => this.equals.apply(null, [(e(fY))[0], fT]), fW);if(fX==null){ this.count=this.count+1;fW.push({K:fT, V:fU});} else fW[fX.$0]={K:fT, V:fU};} } TryGetValue(fT, fU){ const fV=this.data[this.hash(fT)];if(fV==null)return false;else { const fW=bF((fX) => { const fY=e(fX);return this.equals.apply(null, [fY[0], fT])?X(fY[1]):null;}, fV);return fW!=null&&fW.$==1&&(fU.set(fW.$0),true);} } ContainsKey(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:bG((fV) => this.equals.apply(null, [(e(fV))[0], fT]), fU);} RemoveKey(fT){ return this.remove(fT);} get Keys(){ return new dz(this);} GetEnumerator(){ return ca(bH(V(this.data)));} get Values(){ return new ex(this);} remove(fT){ const fU=this.hash(fT);const fV=this.data[fU];if(fV==null)return false;else { const fW=bL((fX) =>!this.equals.apply(null, [(e(fX))[0], fT]), fV);return l(fW)<fV.length&&(this.count=this.count-1,this.data[fU]=fW,true);} } Item(fT){ return this.get(fT);} get(fT){ const fU=this.data[this.hash(fT)];return fU==null?b8():bN((fV) => { const fW=e(fV);return this.equals.apply(null, [fW[0], fT])?X(fW[1]):null;}, fU);} static New_5(){ return new this("New_5");} static New_6(fT, fU, fV){ return new this("New_6", fT, fU, fV);} constructor(fT, fU, fV, fW){ if(fT=="New_5"){ fT="New_6";fU=[];fV=s;fW=v;} if(fT=="New_6"){ const fX=fU;const fY=fV;const fZ=fW;super();this.equals=fY;this.hash=fZ;this.count=0;this.data=[];const f0=b9(fX);try { while(f0.MoveNext()){ const f1=f0.Current;this.set(f1.K, f1.V);} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } } }
function bh(fT, fU){ return{k:fT, ct:fU};}
function bi(fT){ return{$:1, $0:fT};}
function bj(fT){ return{$:0, $0:fT};}
function bk(fT){ return{$:2, $0:fT};}
class bl extends Error { reason;constructor(fT){ super("Promise rejected");this.reason=fT;} }
function bm(fT, fU){ return{c:fT, r:fU};}
class bn extends g { equals;hash;data;count;SAdd(fT){ return this.add(fT);} Contains(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:this.arrContains(fT, fU);} add(fT){ const fU=this.hash(fT);const fV=this.data[fU];return fV==null?(this.data[fU]=[fT],this.count=this.count+1,true):this.arrContains(fT, fV)?false:(fV.push(fT),this.count=this.count+1,true);} arrContains(fT, fU){ let fV=true;let fW=0;const fX=fU.length;while(fV&&fW<fX)if(this.equals.apply(null, [fU[fW], fT]))fV=false;else fW=fW+1;return!fV;} GetEnumerator(){ return b9(eP(this.data));} ExceptWith(fT){ const fU=b9(fT);try { while(fU.MoveNext())this.Remove(fU.Current);} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} } get Count(){ return this.count;} IntersectWith(fT){ const fU=new bn("New_4", fT, this.equals, this.hash);const fV=eP(this.data);for(let fX=0, fY=fV.length-1;fX<=fY;fX++){ const fW=fV[fX];if(!fU.Contains(fW))this.Remove(fW);} } Remove(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:this.arrRemove(fT, fU)&&(this.count=this.count-1,true);} CopyTo(fT, fU){ const fV=eP(this.data);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)j(fT, fW+fU, fV[fW]);} arrRemove(fT, fU){ let fV=true;let fW=0;const fX=fU.length;while(fV&&fW<fX)if(this.equals.apply(null, [fU[fW], fT])){ fU.splice(fW, 1);fV=false;} else fW=fW+1;return!fV;} static New_3(){ return new this("New_3");} static New_4(fT, fU, fV){ return new this("New_4", fT, fU, fV);} static New_2(fT){ return new this("New_2", fT);} constructor(fT, fU, fV, fW){ if(fT=="New_3"){ fT="New_4";fU=[];fV=s;fW=v;} let fX;if(fT=="New_2"){ fX=fU;fT="New_4";fU=fX;fV=s;fW=v;} if(fT=="New_4"){ const fY=fU;const fZ=fV;const f0=fW;super();this.equals=fZ;this.hash=f0;this.data=[];this.count=0;const f1=b9(fY);try { while(f1.MoveNext())this.add(f1.Current);} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } } }
function bo(fT, fU){ return{GetEnumerator:() => { const fV=b9(fT);const fW=[true];return new cb(fV, null, (fX) => { if(fX.s.MoveNext()){ fX.c=fX.s.Current;return true;} else { const fY=fX.s;if(!s(fY, null))fY.Dispose();fX.s=null;return fW[0]&&(fW[0]=false,fX.s=b9(fU),fX.s.MoveNext()?(fX.c=fX.s.Current,true):(fX.s.Dispose(),fX.s=null,false));} }, (fX) => { const fY=fX.s;if(!s(fY, null))fY.Dispose();});}};}
function bp(fT){ const fU=b9(fT);try { return fU.MoveNext()?fU.Current:dw();} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bq(fT, fU, fV){ let fW=fU;const fX=b9(fV);try { while(fX.MoveNext())fW=fT(fW, fX.Current);return fW;} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} }
function br(fT, fU){ const fV=b9(fU);try { while(fV.MoveNext())fT(fV.Current);} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bs(fT, fU){ return{GetEnumerator:() => { const fV=b9(fU);return new cb(null, null, (fW) => fV.MoveNext()&&(fW.c=fT(fV.Current),true), () => { fV.Dispose();});}};}
function bt(fT){ return{GetEnumerator:() => b9(fT())};}
function bu(fT, fU){ return bw(bs(fT, fU));}
function bv(fT){ const fU=b9(fT);try { if(!fU.MoveNext())by();let fV=fU.Current;while(fU.MoveNext()){ const fW=fU.Current;if(A(fW, fV)===1)fV=fW;} return fV;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bw(fT){ return{GetEnumerator:() => { const fU=b9(fT);function fV(fW){ while(true){ const fX=fW.s;if(s(fX, null)){ if(fU.MoveNext()){ fW.s=b9(fU.Current);fW=fW;} else { fU.Dispose();return false;} } else if(fX.MoveNext()){ fW.c=fX.Current;return true;} else { fW.Dispose();fW.s=null;fW=fW;} } } return new cb(null, null, fV, (fW) => { const fX=fW.s;if(!s(fX, null))fX.Dispose();if(!s(fU, null))fU.Dispose();});}};}
function bx(fT, fU){ return bz(fT, bA(fU));}
function by(){ return d("The input sequence was empty.");}
function bz(fT, fU){ fT<0?dy():void 0;return{GetEnumerator:() => { const fV=[b9(fU)];return new cb(0, null, (fW) => { fW.s=fW.s+1;if(fW.s>fT)return false;else { const fX=fV[0];return s(fX, null)?dw():fX.MoveNext()?(fW.c=fX.Current,fW.s===fT?(fX.Dispose(),fV[0]=null):void 0,true):(fX.Dispose(),fV[0]=null,dw());} }, () => { const fW=fV[0];if(!s(fW, null))fW.Dispose();});}};}
function bA(fT){ return{GetEnumerator:() => new cb(0, null, (fU) => { fU.c=fT(fU.s);fU.s=fU.s+1;return true;}, void 0)};}
function bB(fT, fU){ return!bC((fV) =>!fT(fV), fU);}
function bC(fT, fU){ const fV=b9(fU);try { let fW=false;while(!fW&&fV.MoveNext())fW=fT(fV.Current);return fW;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bD(fT, fU){ const fV=[];for(let fX=0, fY=fU.length-1;fX<=fY;fX++){ const fW=fT(fU[fX]);if(fW==null){ } else fV.push(fW.$0);} return fV;}
function bE(fT, fU){ let fV=null;let fW=0;while(fW<fU.length&&fV==null){ fT(fU[fW])?fV=X(fW):void 0;fW=fW+1;} return fV;}
function bF(fT, fU){ let fV=null;let fW=0;while(fW<fU.length&&fV==null){ const fX=fT(fU[fW]);if(fX!=null&&fX.$==1)fV=fX;fW=fW+1;} return fV;}
function bG(fT, fU){ let fV=false;let fW=0;while(!fV&&fW<l(fU))if(fT(fU[fW]))fV=true;else fW=fW+1;return fV;}
function bH(fT){ return Array.prototype.concat.apply([], bM(fT));}
function bI(fT, fU){ for(let fV=0, fW=fU.length-1;fV<=fW;fV++)fT(fU[fV]);}
function bJ(fT, fU, fV){ let fW=fV;const fX=fU.length;for(let fY=1, fZ=fX;fY<=fZ;fY++)fW=fT(fU[fX-fY], fW);return fW;}
function bK(fT, fU){ const fV=new Array(fU.length);for(let fW=0, fX=fU.length-1;fW<=fX;fW++)fV[fW]=fT(fU[fW]);return fV;}
function bL(fT, fU){ const fV=[];for(let fW=0, fX=fU.length-1;fW<=fX;fW++)if(fT(fU[fW]))fV.push(fU[fW]);return fV;}
function bM(fT){ if(fT instanceof Array)return fT.slice();else if(fT instanceof ek)return bO(fT);else { const fU=[];const fV=b9(fT);try { while(fV.MoveNext())fU.push(fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } }
function bN(fT, fU){ const fV=bF(fT, fU);return fV==null?d("KeyNotFoundException"):fV.$0;}
function bO(fT){ const fU=[];let fV=fT;while(!(fV.$==0)){ fU.push(e5(fV));fV=e6(fV);} return fU;}
function bP(fT, fU){ let fV=true;let fW=0;while(fV&&fW<l(fU))if(fT(fU[fW]))fW=fW+1;else fV=false;return fV;}
function bQ(fT, fU){ const fV=new Array(fT);for(let fW=0, fX=fT-1;fW<=fX;fW++)fV[fW]=fU;return fV;}
function bR(fT, fU){ if(fT<0)d("Negative size given.");else null;const fV=new Array(fT);for(let fW=0, fX=fT-1;fW<=fX;fW++)fV[fW]=fU(fW);return fV;}
let bS=fQ((fT) => class fU extends g { static { bS=fT(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fV, fW, fX){ let fY;const fZ=bS.GetHolesFor(fV);const f0=(fY=null,[fZ.TryGetValue(fW, {get:() => fY, set:(f2) => { fY=f2;}}), fY]);if(f0[0])return f0[1];else { const f1=fX();fZ.set_Item(fW, f1);return f1;} } static GetHolesFor(fV){ let fW;const fX=(fW=null,[bS.initialized.TryGetValue(fV, {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);if(fX[0])return fX[1];else { const fY=new bg("New_5");bS.initialized.set_Item(fV, fY);return fY;} } static { bS.initialized=new bg("New_5");bS.instances=new bg("New_5");} });
class bT extends F { name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(this.fillWith.View);} AddAttribute(fT, fU){(fT(fU))(d9(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
let bU=fQ((fT) => class fU extends g { static { bU=fT(this);} static Create_1(fV){ return new cd(false, {s:c2(fV, [])}, fV);} static { } });
class bV extends F { name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(d_(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bW extends F { name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(d$(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bX extends F { name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8((fT) =>(new Date(fT)).toLocaleString(), this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(ea(this.fillWith));} get AsChoiceView(){ return ej(c8((fT) =>(new Date(fT)).toLocaleString(), this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bY extends F { name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(eb(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bZ extends F { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class b0 extends F { name;fillWith;get Name(){ return this.name;} ForTextView(){ return X(c8((fT) => el(",", fT), this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(ec(this.fillWith));} get AsChoiceView(){ return ej(c8(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
function b1(fT){ return{$:6, $0:fT};}
function b2(fT){ return{$:5, $0:fT};}
function b3(fT){ return{$:4, $0:fT};}
class b4 { }
function b5(fT, fU){ return fD(fT, -2147483648, 2147483647, fU);}
class b6 extends g { idle;robin;Fork(fT){ this.robin.push(fT);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fT=Date.now();let fU=true;while(fU)if(this.robin.length===0){ this.idle=true;fU=false;} else {(this.robin.shift())();Date.now()-fT>40?(setTimeout(() => { this.tick();}, 0),fU=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
let b7=fQ((fT) => class fU { static { b7=fT(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bm(false, []);this.scheduler=new b6();this.defCTS=[new cY()];this.Zero=K();this.GetCT=(fV) => { fV.k(bj(fV.ct));};} });
function b8(){ throw new eY("New");}
function b9(fT){ return fT instanceof Array?b_(fT):s(typeof fT, "string")?b$(fT):fT.GetEnumerator();}
function b_(fT){ return new cb(0, null, (fU) => { const fV=fU.s;return fV<l(fT)&&(fU.c=i(fT, fV),fU.s=fV+1,true);}, void 0);}
function b$(fT){ return new cb(0, null, (fU) => { const fV=fU.s;return fV<fT.length&&(fU.c=fT[fV],fU.s=fV+1,true);}, void 0);}
function ca(fT){ return fT instanceof Array?b_(fT):s(typeof fT, "string")?b$(fT):"GetEnumerator0"in fT?fT.GetEnumerator0():fT.GetEnumerator();}
class cb extends g { s;c;n;d;e;MoveNext(){ const fT=this.n(this);this.e=fT?1:2;return fT;} get Current(){ return this.e===1?this.c:this.e===0?d("Enumeration has not started. Call MoveNext."):d("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fT, fU, fV, fW){ super();this.s=fT;this.c=fU;this.n=fV;this.d=fW;this.e=0;} }
class cc extends g { }
class cd extends cc { isConst;current;snap;view;id;SetFinal(fT){ if(this.isConst)(((fU) => fU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fU) => { console.log(fU);}));else { dK(this.snap);this.isConst=true;this.current=fT;this.snap={s:c3(fT)};} } Set(fT){ if(this.isConst)(((fU) => fU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fU) => { console.log(fU);}));else { dK(this.snap);this.current=fT;this.snap={s:c2(fT, [])};} } get View(){ return this.view;} Get(){ return this.current;} UpdateMaybe(fT){ const fU=fT(this.Get());if(fU!=null&&fU.$==1)this.Set(fU.$0);} constructor(fT, fU, fV){ super();this.isConst=fT;this.current=fV;this.snap=fU;this.view=() => this.snap;this.id=cZ();} }
function ce(fT, fU, fV){ const fW=fT.s;if(fW==null)fV();else fW!=null&&fW.$==2?(fW.$1.push(fV),fU(fW.$0)):fW!=null&&fW.$==3?(fW.$0.push(fU),fW.$1.push(fV)):fU(fW.$0);}
function cf(fT, fU){ const fV=fU.s;if(fV!=null&&fV.$==0)return{s:c3(fT(fV.$0))};else { const fW={s:c4([], [])};cm(fU, (fX) => { cn(fW, fU, fT(fX));}, fW);return fW;} }
function cg(fT, fU, fV, fW){ const fX=fU.s;const fY=fV.s;const fZ=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?fZ!=null&&fZ.$==0?{s:c3(fT(fX.$0, fY.$0, fZ.$0))}:co(fT, fX.$0, fY.$0, fW):fZ!=null&&fZ.$==0?cp(fT, fX.$0, fZ.$0, fV):cq(fT, fX.$0, fV, fW);else if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?cr(fT, fY.$0, fZ.$0, fU):cs(fT, fY.$0, fU, fW);else if(fZ!=null&&fZ.$==0)return ct(fT, fZ.$0, fU, fV);else { const f0={s:c4([], [])};const f1=() => { const f2=f0.s;if(!(f2!=null&&f2.$==0||f2!=null&&f2.$==2)){ const f3=cu(fU);const f4=cu(fV);const f5=cu(fW);if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f3.$0[1]&&f4.$0[1]&&f5.$0[1])cv(f0, fT(f3.$0[0], f4.$0[0], f5.$0[0]));else cw(f0, fT(f3.$0[0], f4.$0[0], f5.$0[0]));} };cm(fU, f1, f0);cm(fV, f1, f0);cm(fW, f1, f0);return f0;} }
function ch(fT){ const fU=bM(fT);if(fU.length==0)return{s:c3([])};else { const fV={s:c4([], [])};const fW=[l(fU)-1];const fX=() => { if(fW[0]===0){ const fY=bK((fZ) => { const f0=fZ.s;return f0!=null&&f0.$==0?f0.$0:f0!=null&&f0.$==2?f0.$0:d("value not found by View.Sequence");}, fU);if(bP((fZ) => { const f0=fZ.s;return f0!=null&&f0.$==0;}, fU))cv(fV, fY);else cw(fV, fY);} else fW[0]=fW[0]-1;};bI((fY) => { cm(fY, fX, fV);}, fU);return fV;} }
function ci(fT, fU, fV){ const fW=fU.s;const fX=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?{s:c3(fT(fW.$0, fX.$0))}:cx(fT, fW.$0, fV);else if(fX!=null&&fX.$==0)return cy(fT, fX.$0, fU);else { const fY={s:c4([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=cu(fU);const f2=cu(fV);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f1.$0[1]&&f2.$0[1])cv(fY, fT(f1.$0[0], f2.$0[0]));else cw(fY, fT(f1.$0[0], f2.$0[0]));} };cm(fU, fZ, fY);cm(fV, fZ, fY);return fY;} }
function cj(fT, fU){ const fV=fT.s;const fW=fU.s;if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?{s:c3(null)}:fU;else if(fW!=null&&fW.$==0)return fT;else { const fX={s:c4([], [])};const fY=() => { const fZ=fX.s;if(!(fZ!=null&&fZ.$==0||fZ!=null&&fZ.$==2)){ const f0=cu(fT);const f1=cu(fU);if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(f0.$0[1]&&f1.$0[1])cv(fX, null);else cw(fX, null);} };cm(fT, fY, fX);cm(fU, fY, fX);return fX;} }
function ck(fT){ const fU=fT.s;if(fU==null)return fT;else if(fU!=null&&fU.$==2){ const fV={s:c2(fU.$0, [])};cz(fT, fV);return fV;} else if(fU!=null&&fU.$==3){ const fW={s:c4([], [])};cm(fT, (fX) => { cn(fW, fT, fX);}, fW);return fW;} else return fT;}
function cl(fT, fU){ const fV=fT.s;if(fV==null)fU();else fV!=null&&fV.$==2?fV.$1.push(fU):fV!=null&&fV.$==3?fV.$1.push(fU):void 0;}
function cm(fT, fU, fV){ const fW=fT.s;if(fW==null)dK(fV);else fW!=null&&fW.$==2?(cA(fW.$1, fV),fU(fW.$0)):fW!=null&&fW.$==3?(fW.$0.push(fU),cA(fW.$1, fV)):fU(fW.$0);}
function cn(fT, fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==0)cv(fT, fV);else cw(fT, fV);}
function co(fT, fU, fV, fW){ return cf((fX) => fT(fU, fV, fX), fW);}
function cp(fT, fU, fV, fW){ return cf((fX) => fT(fU, fX, fV), fW);}
function cq(fT, fU, fV, fW){ return ci((fX, fY) => fT(fU, fX, fY), fV, fW);}
function cr(fT, fU, fV, fW){ return cf((fX) => fT(fX, fU, fV), fW);}
function cs(fT, fU, fV, fW){ return ci((fX, fY) => fT(fX, fU, fY), fV, fW);}
function ct(fT, fU, fV, fW){ return ci((fX, fY) => fT(fX, fY, fU), fV, fW);}
function cu(fT){ const fU=fT.s;return fU!=null&&fU.$==0?X([fU.$0, true]):fU!=null&&fU.$==2?X([fU.$0, false]):null;}
function cv(fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==3){ fT.s=c3(fU);const fW=fV.$0;for(let fX=0, fY=l(fW)-1;fX<=fY;fX++)(i(fW, fX))(fU);} else void 0;}
function cw(fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==3){ fT.s=c2(fU, fV.$1);const fW=fV.$0;for(let fX=0, fY=l(fW)-1;fX<=fY;fX++)(i(fW, fX))(fU);} else void 0;}
function cx(fT, fU, fV){ return cf((fW) => fT(fU, fW), fV);}
function cy(fT, fU, fV){ return cf((fW) => fT(fW, fU), fV);}
function cz(fT, fU){ const fV=fT.s;if(fV==null)dK(fU);else fV!=null&&fV.$==2?cA(fV.$1, fU):fV!=null&&fV.$==3?cA(fV.$1, fU):void 0;}
function cA(fT, fU){ fT.push(fU);if(fT.length%20===0){ const fV=fT.slice(0);fI(fT);for(let fX=0, fY=l(fV)-1;fX<=fY;fX++){ const fW=i(fV, fX);if(typeof fW=="object")(((fZ) => { if(fZ.s)fT.push(fZ);})(fW));else(((fZ) => { fT.push(fZ);})(fW));} } else void 0;}
let cB=fQ((fT) => class fU { static { cB=fT(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bg("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bg("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cC(fT, fU){ cD(fT, fU, null);}
function cD(fT, fU, fV){ while(true){ if(fU!=null&&fU.$==1)return cI(fT, fU.$0.El, fV);else if(fU!=null&&fU.$==2){ const fW=fU.$0;fW.Dirty=false;fU=fW.Current;} else if(fU==null)return fV;else if(fU!=null&&fU.$==4)return cI(fT, fU.$0.Text, fV);else if(fU!=null&&fU.$==5)return cI(fT, fU.$0, fV);else if(fU!=null&&fU.$==6)return bJ((fZ, f0) =>((((f1) =>(f2) =>(f3) => f2==null||f2.constructor===Object?cD(f1, f2, f3):cI(f1, f2, f3))(fT))(fZ))(f0), fU.$0.Els, fV);else { const fX=fU.$1;const fY=fU.$0;fU=fY;fV=cD(fT, fX, fV);} } }
function cE(fT, fU){ return ey(ez(), cJ(fT, dR(), fU));}
function cF(fT, fU, fV){ if(dA()){ const fW=null;return I(() => { const fX=eA(fV);const fY=cN(fU, fX);const fZ=cM(fU, fX);return J(dB(dC(fY, cL(fU, fX))), () => J(cK(fT, fU), () => J(dB(fZ), () => { fU.PreviousNodes=fX;return K(null);})));});} else return cK(fT, fU);}
function cG(fT, fU, fV){ const fW=eA(fV);cO(fT, fU.Top);fU.PreviousNodes=fW;}
function cH(fT, fU){ const fV=fT.parentNode;const fW=globalThis.document.createTextNode("");fV.insertBefore(fW, fT);cR(fT, fU);return fW;}
function cI(fT, fU, fV){ du(fT, fV, fU);return fU;}
function cJ(fT, fU, fV){ cC(fT, fV);const fW=dL(fT, fU);return cW.New(fW, fV, null, fT, cZ(), fN(fW.OnAfterRender));}
function cK(fT, fU){ if(dH()){ const fV=(fW) => { requestAnimationFrame(() => { cO(fT, fU.Top);fW();});};return N((fW, fX, fY) => fV.apply(null, [fW, fX, fY]));} else { cO(fT, fU.Top);return K(null);} }
function cL(fT, fU){ return dF(bK((fV) => dT(fV.Attr), eE(eD(fU, eC((fV) => dS(fV.Attr), fT.PreviousNodes)))));}
function cM(fT, fU){ return dF(bK((fV) => dV(fV.Attr), eE(eD(fT.PreviousNodes, eC((fV) => dU(fV.Attr), fU)))));}
function cN(fT, fU){ const fV=(fX) => dW(fX.Attr);const fW=(fX) => eC(fV, fX);return dF(bK((fX) => dX(fX.Attr), eE(eF(fW(fT.PreviousNodes), fW(fU)))));}
function cO(fT, fU){!fT?cS(fU):void 0;cT(fU.Children);cU(fU);}
function cP(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cQ(fT, fU){ fT.Value=fU;fT.Dirty=true;}
function cR(fT, fU){ cD(fT.parentNode, fU, fT);}
function cS(fT){ function fU(fV){ function fW(fX){ while(true){ if(fX!=null&&fX.$==0){ const fY=fX.$1;const fZ=fX.$0;if(fW(fZ))return true;else fX=fY;} else if(fX!=null&&fX.$==2){ const f0=fX.$0;if(f0.Dirty)return true;else fX=f0.Current;} else if(fX!=null&&fX.$==6){ const f1=fX.$0;return f1.Dirty||bG(fU, f1.Holes);} else return false;} } return fW(fV.Children);} d0(fT.El, fT.Attr);if(fU(fT))cV(fT);}
function cT(fT){ while(true){ if(fT!=null&&fT.$==1)return cO(false, fT.$0);else if(fT!=null&&fT.$==2){ const fU=fT.$0;fT=fU.Current;} else if(fT==null)return null;else if(fT!=null&&fT.$==5)return null;else if(fT!=null&&fT.$==4){ const fV=fT.$0;return fV.Dirty?(fV.Text.nodeValue=fV.Value,fV.Dirty=false):null;} else if(fT!=null&&fT.$==6){ const fW=fT.$0;bI((fZ) => { cO(false, fZ);}, fW.Holes);bI((fZ) => { d0(fZ[0], fZ[1]);}, fW.Attrs);return cU(fW);} else { const fX=fT.$1;const fY=fT.$0;cT(fY);fT=fX;} } }
function cU(fT){ const fU=fN(fT.Render);if(fU!=null&&fU.$==1){ fU.$0(fT.El);fM(fT, "Render", null);} }
function cV(fT){ const fU=fT.El;function fV(fZ, f0){ while(true){ if(fZ!=null&&fZ.$==1)return fZ.$0.El;else if(fZ!=null&&fZ.$==2){ const f1=fZ.$0;if(f1.Dirty){ f1.Dirty=false;return cD(fU, f1.Current, f0);} else fZ=f1.Current;} else if(fZ==null)return f0;else if(fZ!=null&&fZ.$==4)return fZ.$0.Text;else if(fZ!=null&&fZ.$==5)return fZ.$0;else if(fZ!=null&&fZ.$==6){ const f2=fZ.$0;if(f2.Dirty)f2.Dirty=false;return bJ((f5, f6) => f5==null||f5.constructor===Object?fV(f5, f6):f5, f2.Els, f0);} else { const f3=fZ.$1;const f4=fZ.$0;fZ=f4;f0=fV(f3, f0);} } } const fW=fT.El;fy((fZ) => { dv(fW, fZ);}, fx(fz(fT), fw(fT.El, fN(fT.Delimiters))));let fX=fT.Children;const fY=fN(fT.Delimiters);fV(fX, fY!=null&&fY.$==1?fY.$0[1]:null);}
class cW { Attr;Children;Delimiters;El;ElKey;Render;Equals(fT){ return this.ElKey===fT.ElKey;} GetHashCode(){ return this.ElKey;} static New(fT, fU, fV, fW, fX, fY){ const fZ={Attr:fT, Children:fU, El:fW, ElKey:fX};let f0=(fM(fZ, "Delimiters", fV),fM(fZ, "Render", fY),fZ);return fR(cW, f0);} }
class cX extends Error { ct;static New(fT){ return new this("New", fT);} static New_1(fT, fU, fV){ return new this("New_1", fT, fU, fV);} constructor(fT, fU, fV, fW){ let fX;if(fT=="New"){ fX=fU;fT="New_1";fU="The operation was canceled.";fV=null;fW=fX;} if(fT=="New_1"){ const fY=fU;const fZ=fV;const f0=fW;super(fY);this.inner=fZ;this.ct=f0;} } }
class cY extends g { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function cZ(){ c0(c1()+1);return c1();}
function c0(fT){ eQ.counter=fT;}
function c1(){ return eQ.counter;}
function c2(fT, fU){ return{$:2, $0:fT, $1:fU};}
function c3(fT){ return{$:0, $0:fT};}
function c4(fT, fU){ return{$:3, $0:fT, $1:fU};}
class c5 extends bf { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fT, fU){ const fV=ew.Create(fU);const fW=bK((fZ) => dM(fZ[1]), fT.Attrs);let fX=et(c6(), da, fW);let fY=da(fX, fV.v);return new c5(b1(fT), fY, i(fT.Els, 0), fV);} constructor(fT, fU, fV, fW){ super(fT, fU);this.docNode_1=fT;this.updates_1=fU;this.elt=fV;this.rvUpdates=fW;} }
function c6(fT){ const fU={s:c3(fT)};return() => fU;}
function c7(fT, fU){ function fV(){ ce(fU(), fT, () => { R().Fork(fV);});} R().Fork(fV);}
function c8(fT, fU){ return db(() => cf(fT, fU()));}
function c9(fT, fU, fV, fW){ return db(() => cg(fT, fU(), fV(), fW()));}
function c_(fT){ return db(() => ch(bs((fU) => fU(), fT)));}
function c$(fT, fU, fV){ return db(() => ci(fT, fU(), fV()));}
function da(fT, fU){ return db(() => cj(fT(), fU()));}
function db(fT){ const fU={c:null, o:fT};return() => { let fV=fU.c;if(fV===null){ fV=fU.o();fU.c=fV;const fW=fV.s;if(fW!=null&&fW.$==0)fU.o=null;else cl(fV, () => { fU.c=null;});return fV;} else return fV;};}
function dc(fT){ let fU=null;let fV=0;const fW=fT.textContent;const fX=new RegExp(be(), "g");while(fU=fX.exec(fW),fU!==null){ fT.parentNode.insertBefore(globalThis.document.createTextNode(dk(fW, X(fV), X(fX.lastIndex-i(fU, 0).length-1))), fT);fV=fX.lastIndex;const fY=globalThis.document.createElement("span");fY.setAttribute("ws-replace", i(fU, 1).toLowerCase());fT.parentNode.insertBefore(fY, fT);} fX.lastIndex=0;fT.textContent=dk(fW, X(fV), null);}
function dd(fT){ console.warn("Instantiating non-loaded template", fT);}
function de(fT, fU, fV){ const fW=fT.querySelector("[ws-replace]");return s(fW, null)?(console.warn("Filling non-existent text hole", fV),null):(fW.parentNode.replaceChild(globalThis.document.createTextNode(fU), fW),X(fW.getAttribute("ws-replace")));}
function df(fT, fU){ const fV=(fW) => { bb(fT, "["+fW+"]", (fX) => { if(!fU.Contains(fX.getAttribute(fW)))fX.removeAttribute(fW);});};fV("ws-attr");fV("ws-onafterrender");fV("ws-var");bb(fT, "[ws-hole]", (fW) => { if(!fU.Contains(fW.getAttribute("ws-hole"))){ fW.removeAttribute("ws-hole");while(fW.hasChildNodes())fW.removeChild(fW.lastChild);} });bb(fT, "[ws-replace]", (fW) => { if(!fU.Contains(fW.getAttribute("ws-replace")))fW.parentNode.removeChild(fW);});bb(fT, "[ws-on]", (fW) => { fW.setAttribute("ws-on", el(" ", bL((fX) => fU.Contains(i(em(fX, [":"], 1), 1)), em(fW.getAttribute("ws-on"), [" "], 1))));});bb(fT, "[ws-attr-holes]", (fW) => { const fX=em(fW.getAttribute("ws-attr-holes"), [" "], 1);for(let f1=0, f2=fX.length-1;f1<=f2;f1++){ const fY=i(fX, f1);let fZ=new RegExp(be(), "g");let f0=fW.getAttribute(fY).replace(fZ, (f3, f4) => fU.Contains(f4)?f3:"");fW.setAttribute(fY, f0);} });}
function dg(fT, fU){ dj(fU);const fV=fU.nodeName.toLowerCase();const fW=fT.querySelector("[ws-attr="+fV+"]");if(s(fW, null))console.warn("Filling non-existent attr hole", fV);else { fW.removeAttribute("ws-attr");for(let fY=0, fZ=fU.attributes.length-1;fY<=fZ;fY++){ const fX=fU.attributes.item(fY);if(fX.name=="class"&&fW.hasAttribute("class"))fW.setAttribute("class", fW.getAttribute("class")+" "+fX.nodeValue);else fW.setAttribute(fX.name, fX.nodeValue);} } }
function dh(fT, fU){ const fV=(fW) => { bb(fT, "["+fW+"]", (fX) => { let fY;const fZ=(fY=null,[fU.TryGetValue(fX.getAttribute(fW).toLowerCase(), {get:() => fY, set:(f0) => { fY=f0;}}), fY]);if(fZ[0])fX.setAttribute(fW, fZ[1]);});};fV("ws-hole");fV("ws-replace");fV("ws-attr");fV("ws-onafterrender");fV("ws-var");bb(fT, "[ws-on]", (fW) => { fW.setAttribute("ws-on", el(" ", bK((fX) => { let fY;const fZ=em(fX, [":"], 1);const f0=(fY=null,[fU.TryGetValue(i(fZ, 1), {get:() => fY, set:(f1) => { fY=f1;}}), fY]);return f0[0]?i(fZ, 0)+":"+f0[1]:fX;}, em(fW.getAttribute("ws-on"), [" "], 1))));});bb(fT, "[ws-attr-holes]", (fW) => { const fX=em(fW.getAttribute("ws-attr-holes"), [" "], 1);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)((() => { const f0=i(fX, fY);return fW.setAttribute(f0, bq((f1, f2) => { const f3=e(f2);return f1.replace(new RegExp("\\${"+f3[0]+"}", "ig"), "${"+f3[1]+"}");}, fW.getAttribute(f0), fU));})());});}
function di(fT, fU, fV){ while(true){ if(fT.hasChildNodes())fV=fU.insertBefore(fT.lastChild, fV);else return null;} }
function dj(fT){ const fU=fT.attributes;const fV=[];const fW=[];const fX=[];for(let f2=0, f3=fU.length-1;f2<=f3;f2++){ const fY=fU.item(f2);if(en(fY.nodeName, "ws-on")&&fY.nodeName!="ws-onafterrender"&&fY.nodeName!="ws-on"){ fV.push(fY.nodeName);fW.push(dk(fY.nodeName, X("ws-on".length), null)+":"+fY.nodeValue.toLowerCase());} else if(!en(fY.nodeName, "ws-")&&(new RegExp(be())).test(fY.nodeValue)){ let fZ=new RegExp(be(), "g");let f0=fY.nodeValue.replace(fZ, (f4, f5) =>"${"+f5.toLowerCase()+"}");fY.nodeValue=f0;fX.push(fY.nodeName);} else void 0;} if(!(fW.length==0))fT.setAttribute("ws-on", el(" ", fW));if(!(fX.length==0))fT.setAttribute("ws-attr-holes", el(" ", fX));const f1=(f4) => { const f5=fT.getAttribute(f4);if(f5==null){ } else fT.setAttribute(f4, f5.toLowerCase());};f1("ws-hole");f1("ws-replace");f1("ws-attr");f1("ws-onafterrender");f1("ws-var");bI((f4) => { fT.removeAttribute(f4);}, fV);}
function dk(fT, fU, fV){ if(fU==null){ if(fV!=null&&fV.$==1){ const fW=fV.$0;return fW<0?"":fT.slice(0, fW+1);} else return"";} else if(fV==null)return fT.slice(fU.$0);else { const fX=fV.$0;return fX<0?"":fT.slice(fU.$0, fX+1);} }
function dl(fT){ const fU=globalThis.document.createElement("div");if(!dn().test(fT)){ fU.appendChild(globalThis.document.createTextNode(fT));return fU;} else { const fV=dr().exec(fT);const fW=s(fV, null)?"":i(fV, 1).toLowerCase();const fX=(do_1())[fW];const fY=fX?fX:dp();fU.innerHTML=fY[1]+fT.replace(dq(), "<$1></$2>")+fY[2];function fZ(f0, f1){ while(true){ if(f1===0)return f0;else { const f2=f1;f0=f0.lastChild;f1=f2-1;} } } return fZ(fU, fY[0]);} }
function dm(fT){ const fU=[];for(let fV=0, fW=fT.childNodes.length-1;fV<=fW;fV++)fU.push(fT.childNodes[fV]);return fU;}
function dn(){ return eR.rhtml;}
function do_1(){ return eR.wrapMap;}
function dp(){ return eR.defaultWrap;}
function dq(){ return eR.rxhtmlTag;}
function dr(){ return eR.rtagName;}
function ds(fT, fU, fV){ const fW=fT.querySelectorAll(fU);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function dt(fT, fU){ const fV=globalThis.document.querySelectorAll(fT);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function du(fT, fU, fV){ let fW;if(fV.parentNode===fT){ const fX=fV.nextSibling;let fY=s(fX, null)?null:fX;fW=fU===fY;} else fW=false;if(!fW)fT.insertBefore(fV, fU);}
function dv(fT, fU){ if(fU.parentNode===fT)fT.removeChild(fU);}
function dw(){ return d("The input sequence has an insufficient number of elements.");}
function dx(fT, fU){ let fV=true;let fW=0;while(fV&&fW<l(fU))if(s(fU[fW], fT))fV=false;else fW=fW+1;return!fV;}
function dy(){ return d("The input must be non-negative.");}
class dz extends g { d;GetEnumerator(){ return b9(bs((fT) => fT.K, this.d));} constructor(fT){ super();this.d=fT;} }
function dA(){ return eG();}
function dB(fT){ const fU=null;return I(() => J(dD(() => { }, eH(fT)), () => { eI(fT);return K(null);}));}
function dC(fT, fU){ return dE(eT(fT.$0, fU.$0));}
function dD(fT, fU){ const fV=fU.Duration;if(fV===0)return T();else { const fW=(fX) => { function fY(fZ){ return(f0) => { const f1=f0-fZ;fU.Compute(f1);fT();return f1<=fV?void requestAnimationFrame((f2) => {(fY(fZ))(f2);}):fX();};} requestAnimationFrame((fZ) => {(fY(fZ))(fZ);});};return N((fX, fY, fZ) => fW.apply(null, [fX, fY, fZ]));} }
function dE(fT){ return{$:0, $0:fT};}
function dF(fT){ return dE(eV(bs(eK, fT)));}
function dG(){ return dE(eW());}
function dH(){ return eO.BatchUpdatesEnabled;}
function dI(fT){ const fU=[0];function fV(){ const fW=null;return I(() => J(fT, () => { const fX=fU[0];return s(fX, 1)?(fU[0]=0,T()):s(fX, 2)?(fU[0]=1,fV()):T();}));} return() => { const fW=fU[0];if(s(fW, 0)){ fU[0]=1;U(fV(), null);} else s(fW, 1)?fU[0]=2:void 0;};}
function dJ(fT, fU, fV, fW){ const fX={DynElem:fT, DynFlags:fU, DynNodes:fV};fM(fX, "OnAfterRender", fW);return fX;}
function dK(fT){ let fU;const fV=fT.s;if(fV==null||(fV!=null&&fV.$==2?(fU=fV.$1,false):fV!=null&&fV.$==3?(fU=fV.$1,false):true))void 0;else { fT.s=null;for(let fX=0, fY=l(fU)-1;fX<=fY;fX++){ const fW=i(fU, fX);if(typeof fW=="object")(((fZ) => { dK(fZ);})(fW));else fW();} } }
function dL(fT, fU){ const fV=[];const fW=[];function fX(f0){ while(true){ if(!(f0===null)){ if(f0!=null&&f0.$==1)return fV.push(f0.$0);else if(f0!=null&&f0.$==2){ const f1=f0.$1;const f2=f0.$0;fX(f2);f0=f1;} else return f0!=null&&f0.$==3?f0.$0(fT):f0!=null&&f0.$==4?fW.push(f0.$0):null;} else return null;} } fX(fU);const fY=fV.slice(0);let fZ=dJ(fT, dO(fU), fY, fW.length===0?null:X((f0) => { br((f1) => { f1(f0);}, fW);}));return fZ;}
function dM(fT){ return eu((fU) => fU.NChanged, c6(), da, fT.DynNodes);}
function dN(fT){ return dJ(fT, 0, [], null);}
function dO(fT){ return fT!==null&&fT.hasOwnProperty("flags")?fT.flags:0;}
function dP(fT){ return ef.A3(fT);}
function dQ(fT, fU){ return ef.A1(new eX(fT, fU));}
function dR(){ return eZ.EmptyAttr;}
function dS(fT){ const fU=2;return(fT.DynFlags&fU)===fU;}
function dT(fT){ return dZ(fT, (fU, fV) => fU.NGetExitAnim(fV));}
function dU(fT){ const fU=1;return(fT.DynFlags&fU)===fU;}
function dV(fT){ return dZ(fT, (fU, fV) => fU.NGetEnterAnim(fV));}
function dW(fT){ const fU=4;return(fT.DynFlags&fU)===fU;}
function dX(fT){ return dZ(fT, (fU, fV) => fU.NGetChangeAnim(fV));}
function dY(fT, fU){ if(fT===null)return fU;else if(fU===null)return fT;else { const fV=ef.A2(fT, fU);d1(fV, dO(fT)|dO(fU));return fV;} }
function dZ(fT, fU){ return dF(bK((fV) => fU(fV, fT.DynElem), fT.DynNodes));}
function d0(fT, fU){ bI((fV) => { fV.NSync(fT);}, fU.DynNodes);}
function d1(fT, fU){ fT.flags=fU;}
class d2 extends F { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d3 extends F { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} get AsChoiceView(){ return ei(this.fillWith);} }
class d4 extends F { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d5 extends F { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d6(fT, fU){ return dP((fV) => { fV.addEventListener(fT, (fW) =>(fU(fV))(fW), false);});}
function d7(fT){ return ef.A4(fT);}
function d8(fT, fU){ return dQ(fU, (fV) =>(fW) => fV.setAttribute(fT, fW));}
function d9(fT){ return ed(fo(), fT);}
function d_(fT){ return ed(fp(), fT);}
function d$(fT){ return ed(fq(), fT);}
function ea(fT){ return ed(fr(), fT);}
function eb(fT){ return ed(fs(), fT);}
function ec(fT){ return ed(ft(), fT);}
function ed(fT, fU){ const fV=fT(fU);return ef.Append(dP(fV[0]), ee(fV[1], fV[2]));}
function ee(fT, fU){ return dQ(fU, fT);}
class ef { static Handler(fT, fU){ return ef.HandlerImpl(fT, fU);} static Concat(fT){ const fU=ev(fT);return et(dR(), ef.Append, fU);} static Create(fT, fU){ return dP((fV) => { fV.setAttribute(fT, fU);});} static HandlerImpl(fT, fU){ return dP((fV) => { fV.addEventListener(fT, (fW) =>(fU(fV))(fW), false);});} static Append(fT, fU){ return dY(fT, fU);} static A4(fT){ return fR(ef, {$:4, $0:fT});} static A3(fT){ return fR(ef, {$:3, $0:fT});} static A1(fT){ return fR(ef, {$:1, $0:fT});} static A2(fT, fU){ return fR(ef, {$:2, $0:fT, $1:fU});} }
class eg extends F { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class eh extends F { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ei(fT){ return{$:0, $0:fT};}
function ej(fT){ return{$:1, $0:fT};}
class ek { static Cons(fT, fU){ return fR(ek, {$:1, $0:fT, $1:fU});} static Empty=fR(ek, {$:0});GetEnumerator(){ return new cb(this, null, (fT) => { const fU=fT.s;return fU.$==0?false:(fT.c=fU.$0,fT.s=fU.$1,true);}, void 0);} }
function el(fT, fU){ return bM(fU).join(fT);}
function em(fT, fU, fV){ return eo(fT, new RegExp("["+ep(fU.join(""))+"]"), fV);}
function en(fT, fU){ return fT.substring(0, fU.length)==fU;}
function eo(fT, fU, fV){ return fV===1?bL((fW) => fW!=="", eq(fT, fU)):eq(fT, fU);}
function ep(fT){ return fT.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eq(fT, fU){ return fT.split(fU);}
function er(fT, fU){ return bB(fT, es(fU));}
function es(fT){ return fT==null?"":fT;}
function et(fT, fU, fV){ const fW=l(fV);function fX(fY){ return(fZ) => { let f0;switch(fZ<=0?0:fZ===1?fY>=0&&fY<fW?1:(f0=fZ,2):(f0=fZ,2)){ case 0:return fT;case 1:return i(fV, fY);case 2:const f1=fZ/2>>0;return fU((fX(fY))(f1), (fX(fY+f1))(fZ-f1));} };} return(fX(0))(fW);}
function eu(fT, fU, fV, fW){ const fX=l(fW);function fY(fZ){ return(f0) => { let f1;switch(f0<=0?0:f0===1?fZ>=0&&fZ<fX?1:(f1=f0,2):(f1=f0,2)){ case 0:return fU;case 1:return fT(i(fW, fZ));case 2:const f2=f0/2>>0;return fV((fY(fZ))(f2), (fY(fZ+f2))(f0-f2));} };} return(fY(0))(fX);}
function ev(fT){ if(fT instanceof Array)return fT;else if(fT instanceof ek)return bO(fT);else if(fT===null)return[];else { const fU=[];const fV=b9(fT);try { while(fV.MoveNext())fU.push(fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } }
class ew { c;s;v;static Create(fT){ let fU;fU=null;fU=ew.New(fT, null, () => { let fV;fV=fU.s;return fV===null?(fV=ck(fU.c()),fU.s=fV,cl(fV, () => { fU.s=null;}),fV):fV;});return fU;} static New(fT, fU, fV){ return fR(ew, {c:fT, s:fU, v:fV});} }
class ex extends g { d;GetEnumerator(){ return b9(bs((fT) => fT.V, this.d));} constructor(fT){ super();this.d=fT;} }
function ey(fT, fU){ return{PreviousNodes:fT, Top:fU};}
function ez(){ return eB(new bn("New_3"));}
function eA(fT){ const fU=[];function fV(fY, fZ){ while(true)switch(fY){ case 0:if(fZ!=null&&fZ.$==0){ const f0=fZ.$1;const f1=fZ.$0;fV(0, f1);fZ=f0;} else if(fZ!=null&&fZ.$==1){ const f2=fZ.$0;fZ=f2;fY=1;} else if(fZ!=null&&fZ.$==2){ const f3=fZ.$0;fZ=f3.Current;} else if(fZ!=null&&fZ.$==6){ const f4=fZ.$0.Holes;return(((f5) =>(f6) => { bI(f5, f6);})(fX))(f4);} else return null;break;case 1:fU.push(fZ);fZ=fZ.Children;fY=0;break;} } function fW(fY){ return fV(0, fY);} function fX(fY){ return fV(1, fY);} fW(fT);return eB(new bn("New_2", fU));}
function eB(fT){ return{$:0, $0:fT};}
function eC(fT, fU){ return eB(e1(fT, fU.$0));}
function eD(fT, fU){ return eB(e2(fT.$0, fU.$0));}
function eE(fT){ return e3(fT.$0);}
function eF(fT, fU){ return eB(e4(fT.$0, fU.$0));}
function eG(){ return eS.UseAnimations;}
function eH(fT){ return eJ(bD((fU) => fU.$==1?X(fU.$0):null, eU(fT.$0)));}
function eI(fT){ bI((fU) => { if(fU.$==0)fU.$0();}, eU(fT.$0));}
function eJ(fT){ const fU=ev(fT);const fV=l(fU);if(fV===0)return eL();else if(fV===1)return i(fU, 0);else { const fW=bv(bs((fY) => fY.Duration, fU));const fX=bK((fY) => eN(fW, fY), fU);return eM(fW, (fY) => { bI((fZ) => { fZ.Compute(fY);}, fX);});} }
function eK(fT){ return fT.$0;}
function eL(fT){ return eM(0, () => fT);}
function eM(fT, fU){ return{Compute:fU, Duration:fT};}
function eN(fT, fU){ const fV=fU.Compute;const fW=fU.Duration;const fX=fE(() => fU.Compute(fU.Duration));return{Compute:(fY) => fY>=fW?fX.f():fV(fY), Duration:fT};}
let eO=fQ((fT) => class fU { static { eO=fT(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eP(fT){ let fU=[];let fV;for(var fW in fT)fU.push.apply(fU, fT[fW]);return fU;}
let eQ=fQ((fT) => class fU { static { eQ=fT(this);} static counter;static { this.counter=0;} });
let eR=fQ((fT) => class fU { static { eR=fT(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fV=[1, "<table>", "</table>"];let fW=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fV], ["tbody", fV], ["tfoot", fV], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fW;this.defaultWrap=[0, "", ""];} });
let eS=fQ((fT) => class fU { static { eS=fT(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e0.Custom((fV) => { const fW=fV*fV;return 3*fW-2*(fW*fV);});this.UseAnimations=true;} });
function eT(fT, fU){ return fT.$==0?fU:fU.$==0?fT:{$:2, $0:fT, $1:fU};}
function eU(fT){ const fU=[];function fV(fW){ while(true){ if(fW.$==1)return fU.push(fW.$0);else if(fW.$==2){ const fX=fW.$1;const fY=fW.$0;fV(fY);fW=fX;} else return fW.$==3?bI((fZ) => { fU.push(fZ);}, fW.$0):null;} } fV(fT);return fU.slice(0);}
function eV(fT){ const fU=ev(fT);return et(eW(), eT, fU);}
function eW(){ return fH.Empty;}
class eX extends g { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fT){ return dG();} NGetEnterAnim(fT){ return dG();} NGetChangeAnim(fT){ return dG();} NSync(fT){ if(this.dirty){(this.push(fT))(this.value);this.dirty=false;} } constructor(fT, fU){ super();this.push=fU;this.value=void 0;this.dirty=false;this.updates=c8((fV) => { this.value=fV;this.dirty=true;}, fT);} }
class eY extends Error { static New(){ return new this("New");} static New_1(fT){ return new this("New_1", fT);} constructor(fT, fU){ if(fT=="New"){ fT="New_1";fU="The given key was not present in the dictionary.";} if(fT=="New_1"){ const fV=fU;super(fV);} } }
let eZ=fQ((fT) => class fU { static { eZ=fT(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f$) =>[(ga) => { ga.addEventListener("change", () => f$.Get()!=ga.checked?f$.Set(ga.checked):null);}, (ga) =>(gb) => gb!=null&&gb.$==1?void(ga.checked=gb.$0):null, c8(X, f$.View)];this.StringSet=(f$) =>(ga) => { f$.value=ga;};this.StringGet=(f$) => X(f$.value);const fV=e_();const fW=e9();this.StringApply=(f$) => e8(fV, fW, f$);this.StringListSet=(f$) =>(ga) => { const gb=f$.options;for(let gc=0, gd=gb.length-1;gc<=gd;gc++)((() => { const ge=gb.item(gc);ge.selected=dx(ge.value, ga);})());};this.StringListGet=(f$) => { const ga=f$.selectedOptions;return X(bM(bt(() => bu((gb) =>[ga.item(gb).value], f(0, ga.length-1)))));};const fX=fa();const fY=e$();this.StringListApply=(f$) => e8(fX, fY, f$);this.DateTimeSetUnchecked=(f$) =>(ga) => { f$.value=(new Date(ga)).toLocaleString();};this.DateTimeGetUnchecked=(f$) => { let ga;let gb;const gc=f$.value;if(fu(gc))return X(-8640000000000000);else { ga=0;const gd=fC(gc);let ge=gd!=null&&gd.$==1&&(ga=gd.$0,true);gb=[ge, ga];return gb[0]?X(gb[1]):null;} };const fZ=fc();const f0=fb();this.DateTimeApplyUnchecked=(f$) => e8(fZ, f0, f$);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f$) => { const ga=f$.files;return X(bM(bt(() => bs((gb) => ga.item(gb), f(0, ga.length-1)))));};const f1=ff();const f2=fe();this.FileApplyUnchecked=(f$) => fd(f1, f2, f$);this.IntSetUnchecked=(f$) =>(ga) => { f$.value=String(ga);};this.IntGetUnchecked=(f$) => { const ga=f$.value;if(fu(ga))return X(0);else { const gb=+ga;return gb!==gb>>0?null:X(gb);} };const f3=fh();const f4=fg();this.IntApplyUnchecked=(f$) => e8(f3, f4, f$);this.IntSetChecked=(f$) =>(ga) => { const gb=ga.Input;return f$.value!=gb?void(f$.value=gb):null;};this.IntGetChecked=(f$) => { let ga;let gb;const gc=f$.value;if(fu(gc))ga=(f$.checkValidity?f$.checkValidity():true)?fv.Blank(gc):fv.Invalid(gc);else { const gd=(gb=0,[b5(gc, {get:() => gb, set:(ge) => { gb=ge;}}), gb]);ga=gd[0]?fv.Valid(gd[1], gc):fv.Invalid(gc);} return X(ga);};const f5=fj();const f6=fi();this.IntApplyChecked=(f$) => e8(f5, f6, f$);this.FloatSetUnchecked=(f$) =>(ga) => { f$.value=String(ga);};this.FloatGetUnchecked=(f$) => { const ga=f$.value;if(fu(ga))return X(0);else { const gb=+ga;return isNaN(gb)?null:X(gb);} };const f7=fl();const f8=fk();this.FloatApplyUnchecked=(f$) => e8(f7, f8, f$);this.FloatSetChecked=(f$) =>(ga) => { const gb=ga.Input;return f$.value!=gb?void(f$.value=gb):null;};this.FloatGetChecked=(f$) => { let ga;const gb=f$.value;if(fu(gb))ga=(f$.checkValidity?f$.checkValidity():true)?fv.Blank(gb):fv.Invalid(gb);else { const gc=+gb;ga=isNaN(gc)?fv.Invalid(gb):fv.Valid(gc, gb);} return X(ga);};const f9=fn();const f_=fm();this.FloatApplyChecked=(f$) => e8(f9, f_, f$);} });
class e0 extends g { transformTime;static Custom(fT){ return new e0(fT);} constructor(fT){ super();this.transformTime=fT;} }
function e1(fT, fU){ return new bn("New_2", bL(fT, e3(fU)));}
function e2(fT, fU){ const fV=new bn("New_2", e3(fU));fV.ExceptWith(e3(fT));return fV;}
function e3(fT){ const fU=bQ(fT.Count, void 0);fT.CopyTo(fU, 0);return fU;}
function e4(fT, fU){ const fV=new bn("New_2", e3(fT));fV.IntersectWith(e3(fU));return fV;}
function e5(fT){ return fT.$==1?fT.$0:e7();}
function e6(fT){ return fT.$==1?fT.$1:e7();}
function e7(){ return d("The input list was empty.");}
function e8(fT, fU, fV){ let fW;fW=null;return[(fX) => { const fY=() => { fV.UpdateMaybe((fZ) => { let f0;fW=fT(fX);return fW!=null&&fW.$==1&&(!s(fW.$0, fZ)&&(f0=[fW, fW.$0],true))?f0[0]:null;});};fX.addEventListener("change", fY);fX.addEventListener("input", fY);fX.addEventListener("keypress", fY);}, (fX) => { const fY=fU(fX);return(fZ) => fZ==null?null:fY(fZ.$0);}, c8((fX) => { let fY;return fW!=null&&fW.$==1&&(s(fW.$0, fX)&&(fY=fW.$0,true))?null:X(fX);}, fV.View)];}
function e9(){ return eZ.StringSet;}
function e_(){ return eZ.StringGet;}
function e$(){ return eZ.StringListSet;}
function fa(){ return eZ.StringListGet;}
function fb(){ return eZ.DateTimeSetUnchecked;}
function fc(){ return eZ.DateTimeGetUnchecked;}
function fd(fT, fU, fV){ let fW;fW=null;return[(fX) => { fX.addEventListener("change", () => { fV.UpdateMaybe((fY) => { let fZ;fW=fT(fX);return fW!=null&&fW.$==1&&(fW.$0!==fY&&(fZ=[fW, fW.$0],true))?fZ[0]:null;});});}, (fX) => { const fY=fU(fX);return(fZ) => fZ==null?null:fY(fZ.$0);}, c8((fX) => { let fY;return fW!=null&&fW.$==1&&(s(fW.$0, fX)&&(fY=fW.$0,true))?null:X(fX);}, fV.View)];}
function fe(){ return eZ.FileSetUnchecked;}
function ff(){ return eZ.FileGetUnchecked;}
function fg(){ return eZ.IntSetUnchecked;}
function fh(){ return eZ.IntGetUnchecked;}
function fi(){ return eZ.IntSetChecked;}
function fj(){ return eZ.IntGetChecked;}
function fk(){ return eZ.FloatSetUnchecked;}
function fl(){ return eZ.FloatGetUnchecked;}
function fm(){ return eZ.FloatSetChecked;}
function fn(){ return eZ.FloatGetChecked;}
function fo(){ return eZ.StringApply;}
function fp(){ return eZ.FloatApplyUnchecked;}
function fq(){ return eZ.BoolCheckedApply;}
function fr(){ return eZ.DateTimeApplyUnchecked;}
function fs(){ return eZ.FileApplyUnchecked;}
function ft(){ return eZ.StringListApply;}
function fu(fT){ return er(fB, fT);}
class fv { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fT){ return fR(fv, {$:2, $0:fT});} static Invalid(fT){ return fR(fv, {$:1, $0:fT});} static Valid(fT, fU){ return fR(fv, {$:0, $0:fT, $1:fU});} }
function fw(fT, fU){ let fV;if(fU!=null&&fU.$==1){ const fW=[];fV=fU.$0[0].nextSibling;while(fV!==fU.$0[1]){ fW.push(fV);fV=fV.nextSibling;} return fA(fW);} else { let fX=fT.childNodes.length;const fY=fT.childNodes;let fZ=bR(fX, (f0) => fY[f0]);return fA(fZ);} }
function fx(fT, fU){ const fV=fT.$0;return fA(bL((fW) => bP((fX) =>!(fW===fX), fV), fU.$0));}
function fy(fT, fU){ bI(fT, fU.$0);}
function fz(fT){ const fU=[];function fV(fW){ while(true){ if(fW!=null&&fW.$==2){ const fX=fW.$0;fW=fX.Current;} else if(fW!=null&&fW.$==1)return fU.push(fW.$0.El);else if(fW==null)return null;else if(fW!=null&&fW.$==5)return fU.push(fW.$0);else if(fW!=null&&fW.$==4)return fU.push(fW.$0.Text);else if(fW!=null&&fW.$==6){ const fY=fW.$0.Els;return(((f1) =>(f2) => { bI(f1, f2);})((f1) => { if(f1==null||f1.constructor===Object)fV(f1);else fU.push(f1);}))(fY);} else { const fZ=fW.$1;const f0=fW.$0;fV(f0);fW=fZ;} } } fV(fT.Children);return fA(ev(fU));}
function fA(fT){ return{$:0, $0:fT};}
function fB(fT){ return fT.match(new RegExp("\\s"))!==null;}
function fC(fT){ const fU=Date.parse(fT);return isNaN(fU)?null:X(fU);}
function fD(fT, fU, fV, fW){ const fX=+fT;const fY=fX===fX-fX%1&&fX>=fU&&fX<=fV;if(fY)fW.set(fX);return fY;}
function fE(fT){ return fJ(false, fT, fF);}
function fF(){ const fT=this.v();this.c=true;this.v=fT;this.f=fG;return fT;}
function fG(){ return this.v;}
let fH=fQ((fT) => class fU { static { fH=fT(this);} static Empty;static { this.Empty={$:0};} });
function fI(fT){ fT.splice(0, l(fT));}
function fJ(fT, fU, fV){ return{c:fT, v:fU, f:fV};}
fS(() => { b();});
fK();

